简介:
    Clickhouse是开源的列式存储数据库(DBMS), 主要用于在线分析处理查询(OLAP)
特点:
    列式存储
        对于列的聚合, 计数, 求和等统计操作优于行式存储
        由于某一列的数据类型都是相同的, 更易于压缩, 每一列选择更优的数据压缩算法
        由于压缩比好, 一方面节省了磁盘空间, 另一方面对于缓存也有了更大的发挥空间
    DBMS的功能
        几乎覆盖了标准SQL的大部分语法, 包括DDL和DML, 以及配套的各种函数, 用户管理
      及权限管理, 数据的备份与恢复
    多样化引擎
        表级的引擎, 包括合并树、日志、接口等20多种引擎
    高吞吐写入能力
        采用类LSM Tree(合并树)的结构, 数据写入定期在后台Compaction
        ck在数据导入时都是顺序append写的, 写入后数据段不可更改, 后台compaction也是
      多个段merge sort后顺序写回磁盘
        顺序写的特点是充分利用了磁盘的吞吐能力, 即使在HDD上也有这优异的写入性能
        能够达到50MB-200MB/s的写入吞吐能力, 大约50w-200w条数据/s的写入速度
    数据分区与线程级并行
         ck将数据划分为多个partition, 每个分区进一步划分为多个index granularity(索引粒度)
       之后通过多个CPU核心分别处理其中的一部分来实现并行数据处理
         因此, 单条Query就能利用整机所有的CPU, 极致的并行处理能力, 极大的降低了查询延时
         由于单条查询用到多个cpu, 因此不利于并发查询, 不适用于高QPS的查询场景
    性能问题
        单表查询极快, 关联查询效率降低明显